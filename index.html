<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Label Creator (Browser-only)</title>
    <link rel="stylesheet" href="./static/css/style.css">
  </head>
  <body>
    <div class="app">
      <header>
        <h1>Label Creator</h1>
        <p>Create printable label sheets in your browser (no server required).</p>
      </header>

      <section class="controls">
        <label>
          Preset layout:
          <select id="layoutSelect">
            <option value="2x4" data-cols="2" data-rows="4">2 × 4</option>
            <option value="3x8" data-cols="3" data-rows="8" selected>3 × 8</option>
            <option value="4x7" data-cols="4" data-rows="7">4 × 7</option>
            <option value="3x10" data-cols="3" data-rows="10">3 × 10 (many thin)</option>
            <option value="2x8" data-cols="2" data-rows="8">2 × 8</option>
              <option value="custom">Custom</option>
          </select>
        </label>

        <label>
          Columns:
          <input id="colsInput" type="number" min="1" max="10" value="3" style="width:60px">
        </label>
        <label>
          Rows:
          <input id="rowsInput" type="number" min="1" max="40" value="8" style="width:60px">
        </label>

        <label>
          Page size:
          <select id="pageSize">
            <option value="A4" selected>A4 (210 × 297 mm)</option>
            <option value="Letter">Letter (8.5 × 11 in)</option>
          </select>
        </label>

        <label>
          Margins:
          <select id="marginPreset">
            <option value="standard" data-m="10">Standard (10mm)</option>
            <option value="narrow" data-m="5">Narrow (5mm)</option>
            <option value="wide" data-m="20">Wide (20mm)</option>
            <option value="none" data-m="0">None (0mm)</option>
            <option value="custom">Custom</option>
          </select>
        </label>

        <div id="customMargins" style="display:none;align-items:center;gap:6px;">
          <input id="marginTop" placeholder="top mm" size="4">
          <input id="marginRight" placeholder="right mm" size="4">
          <input id="marginBottom" placeholder="bottom mm" size="4">
          <input id="marginLeft" placeholder="left mm" size="4">
        </div>

        <label>
          Border style:
          <select id="borderStyle">
            <option value="none" selected>None</option>
            <option value="dotted">Dotted</option>
            <option value="dashed">Dashed</option>
            <option value="solid">Solid</option>
            <option value="crossmarks">Crossmarks</option>
          </select>
        </label>

        <label>
          Label height:
          <select id="labelHeightMode">
            <option value="standard" selected>Standard (uses rows)</option>
            <option value="thin">Thin — single text line</option>
            <option value="custom">Custom (mm)</option>
          </select>
        </label>
        <input id="labelHeightCustom" placeholder="mm" size="4" style="display:none">

        <label>
          Text size:
          <input id="fontSizeRange" type="range" min="6" max="24" value="12">
          <span id="fontSizeLabel">12pt</span>
        </label>
        <label>
          Image position:
          <select id="imagePosition">
            <option value="center" selected>Center</option>
            <option value="top">Top</option>
            <option value="bottom">Bottom</option>
            <option value="left">Left</option>
            <option value="right">Right</option>
            <option value="top-left">Top-left</option>
            <option value="top-right">Top-right</option>
            <option value="bottom-left">Bottom-left</option>
            <option value="bottom-right">Bottom-right</option>
          </select>
        </label>

        <div class="add-label">
          <input id="labelText" placeholder="Child name or label text">
          <input id="labelImage" type="file" accept="image/*">
          <button id="addLabelBtn">Add Label</button>
        </div>

        <div class="label-list">
          <h3>Labels</h3>
          <ul id="labels"></ul>
        </div>

        <div class="actions">
          <button id="generateBtn">Generate Sheet</button>
          <button id="printBtn">Print</button>
          <button id="clearAllBtn">Clear all</button>
        </div>
      </section>

      <main>
        <h2>Preview / Sheet</h2>
        <div class="page">
          <div id="sheet" class="sheet"></div>
        </div>
      </main>
    
    <style id="dynamicStyle"></style>
    </div>

    <!-- Edit modal -->
    <div id="editModal" class="modal" aria-hidden="true">
      <div class="modal-content">
        <header>
          <h3>Edit Label</h3>
        </header>
        <div class="modal-body">
          <label>Text:
            <input id="modalLabelText">
          </label>
          <label>Font size:
            <input id="modalFontSize" type="number" min="6" max="48" value="12"> pt
          </label>
          <label>Image position:
            <select id="modalImagePosition">
              <option value="center">Center</option>
              <option value="top">Top</option>
              <option value="bottom">Bottom</option>
              <option value="left">Left</option>
              <option value="right">Right</option>
              <option value="top-left">Top-left</option>
              <option value="top-right">Top-right</option>
              <option value="bottom-left">Bottom-left</option>
              <option value="bottom-right">Bottom-right</option>
            </select>
          </label>

          <label>Images:
            <input id="modalImageInput" type="file" accept="image/*" multiple>
          </label>
          <label><input id="modalManualPosition" type="checkbox"> Manual positioning</label>
          <div id="modalPreview" class="modal-preview" aria-hidden="true"></div>
          <div id="modalImages" class="modal-images"></div>
        </div>
        <footer>
          <button id="modalSave">Save</button>
          <button id="modalCancel">Cancel</button>
        </footer>
      </div>
    </div>
    <script src="./static/js/app.js"></script>
  </body>
</html>
